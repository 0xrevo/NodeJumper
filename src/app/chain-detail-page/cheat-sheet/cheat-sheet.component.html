<ng-container *ngIf="this.chain">
  <div class="row">
    <p class="title">Parameters</p>
    <div class="col col-12 col-sm-12 col-md-6 col-lg-4">
      <div class="param-container">
        <p class="label">Binary</p>
        <input
          class="form-control rounded-pill input"
          placeholder="binary"
          [(ngModel)]="chain.binaryName"
          disabled
        />
      </div>
    </div>
    <div class="col col-12 col-sm-12 col-md-6 col-lg-4">
      <div class="param-container">
        <p class="label">Chain id</p>
        <input
          class="form-control rounded-pill input"
          placeholder="Chain id"
          [(ngModel)]="chain.chainId"
          disabled
        />
      </div>
    </div>
    <div class="col col-12 col-sm-12 col-md-6 col-lg-4">
      <div class="param-container">
        <p class="label">Denom</p>
        <input
          class="form-control rounded-pill input"
          placeholder="Denom name"
          [(ngModel)]="chain.denomName"
          disabled
        />
      </div>
    </div>
    <div class="col col-12 col-sm-12 col-md-6 col-lg-4">
      <div class="param-container">
        <p class="label">Key name</p>
        <input
          class="form-control rounded-pill input"
          placeholder="Wallet name"
          [(ngModel)]="chain.walletName"
          (blur)="saveParam('walletName')"
        />
      </div>
    </div>
    <div class="col col-12 col-sm-12 col-md-6 col-lg-4">
      <div class="param-container">
        <p class="label">Fees</p>
        <input
          class="form-control rounded-pill input"
          placeholder="Fees amount"
          [(ngModel)]="chain.fees"
          (blur)="saveParam('fees')"
        />
      </div>
    </div>
  </div>
  <div class="row">
    <p class="title">Wallet</p>
    <div class="command-container">
      <p>Add New Wallet</p>
      <div class="copy-button-container">
        <div class="command">{{chain.binaryName}} keys add {{chain.walletName}}</div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
    <div class="command-container">
      <p>Recover Existing Wallet</p>
      <div class="copy-button-container">
        <div class="command">{{chain.binaryName}} keys add {{chain.walletName}} --recover</div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
    <div class="command-container">
      <p>List All Wallets</p>
      <div class="copy-button-container">
        <div class="command">{{chain.binaryName}} keys list</div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
    <div class="command-container">
      <p>Delete Wallet</p>
      <div class="copy-button-container">
        <div class="command">{{chain.binaryName}} keys delete {{chain.walletName}}</div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
    <div class="command-container">
      <p>Check Wallet Balance</p>
      <div class="copy-button-container">
        <div class="command">{{chain.binaryName}} q bank balances $({{chain.binaryName}} keys show {{chain.walletName}} -a)</div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
  </div>
  <div class="row">
    <p class="title">Validator</p>
    <div class="col col-12 col-sm-12 col-md-6 col-lg-4">
      <div class="param-container">
        <p class="label">Moniker</p>
        <input
          class="form-control rounded-pill input"
          placeholder="Moniker"
          [(ngModel)]="chain.moniker"
          (blur)="saveParam('moniker')"
        />
      </div>
    </div>
    <div class="col col-12 col-sm-12 col-md-6 col-lg-4">
      <div class="param-container">
        <p class="label">Identity</p>
        <input
          class="form-control rounded-pill input"
          placeholder="Identity"
          [(ngModel)]="chain.identity"
          (blur)="saveParam('identity')"
        />
      </div>
    </div>
    <div class="col col-12 col-sm-12 col-md-6 col-lg-4">
      <div class="param-container">
        <p class="label">Details</p>
        <input
          class="form-control rounded-pill input"
          placeholder="Details"
          [(ngModel)]="chain.details"
          (blur)="saveParam('details')"
        />
      </div>
    </div>
    <div class="command-container">
      <p>Create New Validator</p>
      <div class="copy-button-container">
        <div class="command multiline">{{chain.binaryName}} tx staking create-validator \
--amount=1000000{{chain.denomName}} \
--pubkey=$({{chain.binaryName}} tendermint show-validator) \
--moniker="{{chain.moniker}}" \
--identity={{chain.identity}} \
--details="{{chain.details}}" \
--chain-id={{chain.chainId}} \
--commission-max-change-rate=0.05 \
--commission-max-rate=0.2 \
--commission-rate=0.1 \
--min-self-delegation=1 \
--from={{chain.walletName}} \
--fees={{chain.fees + chain.denomName}} \
--gas=auto \
-y
        </div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
    <div class="command-container">
      <p>Edit Existing Validator</p>
      <div class="copy-button-container">
        <div class="command multiline">{{chain.binaryName}} tx staking edit-validator \
--moniker="{{chain.moniker}}" \
--identity={{chain.identity}} \
--details="{{chain.details}}" \
--chain-id={{chain.chainId}} \
--commission-rate=0.1 \
--from={{chain.walletName}} \
--fees={{chain.fees + chain.denomName}} \
--gas=auto \
-y
        </div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
    <div class="command-container">
      <p>Unjail Validator</p>
      <div class="copy-button-container">
        <div class="command">{{chain.binaryName}} tx slashing unjail --from {{chain.walletName}}
          --chain-id {{chain.chainId}} --fees {{chain.fees + chain.denomName}} --gas auto -y
        </div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
    <div class="command-container">
      <p>Jail Reason</p>
      <div class="copy-button-container">
        <div class="command">{{chain.binaryName}} query slashing signing-info $({{chain.binaryName}} tendermint
          show-validator)
        </div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
    <div class="command-container">
      <p>List All Active Validators</p>
      <div class="copy-button-container">
        <div class="command">{{chain.binaryName}} q staking validators -oj --limit=3000 | jq '.validators[] |
          select(.status=="BOND_STATUS_BONDED")' | jq -r '(.tokens|tonumber/pow(10; 6)|floor|tostring) + " \t " +
          .description.moniker' | sort -gr | nl
        </div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
    <div class="command-container">
      <p>List All Inactive Validators</p>
      <div class="copy-button-container">
        <div class="command">{{chain.binaryName}} q staking validators -oj --limit=3000 | jq '.validators[] |
          select(.status=="BOND_STATUS_UNBONDED")' | jq -r '(.tokens|tonumber/pow(10; 6)|floor|tostring) + " \t " +
          .description.moniker' | sort -gr | nl
        </div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
    <div class="command-container">
      <p>View Validator Details</p>
      <div class="copy-button-container">
        <div class="command">{{chain.binaryName}} q staking validator $({{chain.binaryName}} keys
          show {{chain.walletName}} --bech val -a)
        </div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
  </div>
  <div class="row">
    <p class="title">Tokens</p>
    <div class="col col-12 col-sm-12 col-md-6 col-lg-4">
      <div class="param-container">
        <p class="label">Valoper address</p>
        <input
          class="form-control rounded-pill input"
          placeholder="Valoper address"
          [(ngModel)]="chain.valoperAddress"
          (blur)="saveParam('valoperAddress')"
        />
      </div>
    </div>
    <div class="col col-12 col-sm-12 col-md-6 col-lg-4">
      <div class="param-container">
        <p class="label">To valoper address</p>
        <input
          class="form-control rounded-pill input"
          placeholder="To valoper address"
          [(ngModel)]="chain.toValoperAddress"
          (blur)="saveParam('toValoperAddress')"
        />
      </div>
    </div>
    <div class="col col-12 col-sm-12 col-md-6 col-lg-4">
      <div class="param-container">
        <p class="label">To wallet address</p>
        <input
          class="form-control rounded-pill input"
          placeholder="To wallet address"
          [(ngModel)]="chain.toWalletAddress"
          (blur)="saveParam('toWalletAddress')"
        />
      </div>
    </div>
    <div class="command-container">
      <p>Withdraw Commission And Rewards</p>
      <div class="copy-button-container">
        <div class="command">{{chain.binaryName}} tx distribution withdraw-all-rewards --from {{chain.walletName}}
          --chain-id {{chain.chainId}} --fees {{chain.fees + chain.denomName}} --gas auto -y
        </div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
    <div class="command-container">
      <p>Delegate</p>
      <div class="copy-button-container">
        <div class="command">{{chain.binaryName}} tx staking delegate {{chain.valoperAddress || '&lt;VALOPER_ADDRESS_RAPAM&gt;'}}
          1000000{{chain.denomName}} --from {{chain.walletName}} --chain-id {{chain.chainId}}
          --fees {{chain.fees + chain.denomName}} --gas auto -y
        </div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
    <div class="command-container">
      <p>Redelegate</p>
      <div class="copy-button-container">
        <div class="command">{{chain.binaryName}} tx staking redelegate {{chain.valoperAddress || '&lt;VALOPER_ADDRESS_RAPAM&gt;'}} {{chain.toValoperAddress || '&lt;TO_VALOPER_ADDRESS_RAPAM&gt;'}}
          1000000{{chain.denomName}} --from {{chain.walletName}} --chain-id {{chain.chainId}}
          --fees {{chain.fees + chain.denomName}} --gas auto -y
        </div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
    <div class="command-container">
      <p>Unbond</p>
      <div class="copy-button-container">
        <div class="command">{{chain.binaryName}} tx staking unbond {{chain.valoperAddress || '&lt;VALOPER_ADDRESS_RAPAM&gt;'}} 1000000{{chain.denomName}}
          --from {{chain.walletName}} --chain-id {{chain.chainId}} --fees {{chain.fees + chain.denomName}} --gas auto -y
        </div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
    <div class="command-container">
      <p>Send</p>
      <div class="copy-button-container">
        <div class="command">{{chain.binaryName}} tx bank send {{chain.walletName}} {{chain.toWalletAddress || '&lt;TO_WALLET_ADDRESS_RAPAM&gt;'}}
          1000000{{chain.denomName}} --from {{chain.walletName}} --chain-id {{chain.chainId}}
          --fees {{chain.fees + chain.denomName}} --gas auto -y
        </div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
  </div>
  <div class="row">
    <p class="title">Governance</p>
    <div class="col col-12 col-sm-12 col-md-6 col-lg-4">
      <div class="param-container">
        <p class="label">Proposal id</p>
        <input
          class="form-control rounded-pill input"
          placeholder="Proposal id"
          [(ngModel)]="chain.proposalId"
          (blur)="saveParam('proposalId')"
        />
      </div>
    </div>
    <div class="command-container">
      <p>List All Proposals</p>
      <div class="copy-button-container">
        <div class="command">{{chain.binaryName}} query gov proposals</div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
    <div class="command-container">
      <p>View Proposal By ID</p>
      <div class="copy-button-container">
        <div class="command">{{chain.binaryName}} query gov proposal {{chain.proposalId}}</div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
    <div class="command-container">
      <p>Vote YES</p>
      <div class="copy-button-container">
        <div class="command">{{chain.binaryName}} tx gov vote {{chain.proposalId}} yes --from {{chain.walletName}}
          --chain-id {{chain.chainId}} --fees {{chain.fees + chain.denomName}} --gas auto -y
        </div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
    <div class="command-container">
      <p>Vote NO</p>
      <div class="copy-button-container">
        <div class="command">{{chain.binaryName}} tx gov vote {{chain.proposalId}} no --from {{chain.walletName}}
          --chain-id {{chain.chainId}} --fees {{chain.fees + chain.denomName}} --gas auto -y
        </div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
    <div class="command-container">
      <p>Vote ABSTAIN</p>
      <div class="copy-button-container">
        <div class="command">{{chain.binaryName}} tx gov vote {{chain.proposalId}} abstain --from {{chain.walletName}}
          --chain-id {{chain.chainId}} --fees {{chain.fees + chain.denomName}} --gas auto -y
        </div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
  </div>
  <div class="row">
    <p class="title">Utility</p>
    <div class="btn-group param-container">
      <button type="button" class="btn input" (click)="setPortIncrement($event)">1</button>
      <button type="button" class="btn input" (click)="setPortIncrement($event)">2</button>
      <button type="button" class="btn input" (click)="setPortIncrement($event)">3</button>
      <button type="button" class="btn input" (click)="setPortIncrement($event)">4</button>
      <button type="button" class="btn input" (click)="setPortIncrement($event)">5</button>
      <button type="button" class="btn input" (click)="setPortIncrement($event)">6</button>
      <button type="button" class="btn input" (click)="setPortIncrement($event)">7</button>
      <button type="button" class="btn input" (click)="setPortIncrement($event)">8</button>
      <button type="button" class="btn input" (click)="setPortIncrement($event)">9</button>
    </div>
    <div class="ports-param-container">
      <div class="btn-group param-container header-group">
        <p class="param-row-title"></p>
        <p class="btn">gRPC</p>
        <p class="btn">gRPC(web)</p>
        <p class="btn">proxy_app</p>
        <p class="btn">laddr(rpc)</p>
        <p class="btn">pprof_laddr</p>
        <p class="btn">laddr(p2p)</p>
        <p class="btn">prometheus</p>
      </div>
      <div class="btn-group param-container">
        <p class="param-row-title">Default Ports</p>
        <button type="button" class="btn input" disabled>9090</button>
        <button type="button" class="btn input" disabled>9091</button>
        <button type="button" class="btn input" disabled>26658</button>
        <button type="button" class="btn input" disabled>26657</button>
        <button type="button" class="btn input" disabled>6060</button>
        <button type="button" class="btn input" disabled>26656</button>
        <button type="button" class="btn input" disabled>26660</button>
      </div>
      <div class="btn-group param-container">
        <p class="param-row-title">Changed Ports</p>
        <button type="button" class="btn input" disabled>{{9090 + this.chain.portIncrement * 100}}</button>
        <button type="button" class="btn input" disabled>{{9091 + this.chain.portIncrement * 100}}</button>
        <button type="button" class="btn input" disabled>{{26658 + this.chain.portIncrement * 1000}}</button>
        <button type="button" class="btn input" disabled>{{26657 + this.chain.portIncrement * 1000}}</button>
        <button type="button" class="btn input" disabled>{{6060 + this.chain.portIncrement * 100}}</button>
        <button type="button" class="btn input" disabled>{{26656 + this.chain.portIncrement * 1000}}</button>
        <button type="button" class="btn input" disabled>{{26660 + this.chain.portIncrement * 1000}}</button>
      </div>
    </div>
    <div class="command-container">
      <p>Change Default Ports</p>
      <div class="copy-button-container">
        <div class="command">sed -i.bak -e "s%^proxy_app = \"tcp://127.0.0.1:26658\"%proxy_app = \"tcp://127.0.0.1:{{26658 + this.chain.portIncrement * 1000}}\"%; s%^laddr = \"tcp://127.0.0.1:26657\"%laddr = \"tcp://127.0.0.1:{{26657 + this.chain.portIncrement * 1000}}\"%; s%^pprof_laddr = \"localhost:6060\"%pprof_laddr = \"localhost:{{6060 + this.chain.portIncrement * 100}}\"%; s%^laddr = \"tcp://0.0.0.0:26656\"%laddr = \"tcp://0.0.0.0:{{26656 + this.chain.portIncrement * 1000}}\"%; s%^prometheus_listen_addr = \":26660\"%prometheus_listen_addr = \":{{26660 + this.chain.portIncrement * 1000}}\"%" $HOME/{{chain.homeDirectoryName}}/config/config.toml;<br>
          sed -i.bak -e "s%^address = \"0.0.0.0:9090\"%address = \"0.0.0.0:{{9090 + this.chain.portIncrement * 100}}\"%; s%^address = \"0.0.0.0:9091\"%address = \"0.0.0.0:{{9091 + this.chain.portIncrement * 100}}\"%" $HOME/{{chain.homeDirectoryName}}/config/app.toml</div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
    <div class="command-container">
      <p>Get Validator Info</p>
      <div class="copy-button-container">
        <div class="command">{{chain.binaryName}} status 2>&1 | jq .ValidatorInfo</div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
    <div class="command-container">
      <p>Get Catching Up</p>
      <div class="copy-button-container">
        <div class="command">{{chain.binaryName}} status 2>&1 | jq .SyncInfo.catching_up</div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
    <div class="command-container">
      <p>Get Latest Height</p>
      <div class="copy-button-container">
        <div class="command">{{chain.binaryName}} status 2>&1 | jq .SyncInfo.latest_block_height</div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
    <div class="command-container">
      <p>Get Peer</p>
      <div class="copy-button-container">
        <div class="command">echo $({{chain.binaryName}} tendermint show-node-id)'@'$(curl -s ifconfig.me)':'$(cat
          $HOME/{{chain.homeDirectoryName}}/config/config.toml | sed -n '/Address to listen for incoming connection/&#123;n;p;&#125;'
          | sed 's/.*://; s/".*//')
        </div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
    <div class="command-container">
      <p>Check Logs</p>
      <div class="copy-button-container">
        <div class="command">sudo journalctl -u {{chain.serviceName}} -f --no-hostname -o cat</div>
        <button class="copy-button" type="button" (click)="handleCopyClick($event)">Copy</button>
      </div>
    </div>
  </div>
</ng-container>
